<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Code & Create</title>
  <meta name="description" content="ADS (An√°lise e Desenvolvimento de Sistemas) + Marketing Digital. Estudos, projetos, portf√≥lio e artigos pr√°ticos." />
  <meta name="author" content="Thomas Carvalho" />
  <meta property="og:title" content="Code & Create" />
  <meta property="og:description" content="ADS + Marketing Digital com projetos, estudos e carreira." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="logo-icon.png" />
  <meta name="theme-color" content="#0b0b0f" />
    <link rel="icon" type="image/png" href="logo-icon.png" />
  <link rel="apple-touch-icon" href="logo-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="logo-icon.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="logo-icon.png" />

  <style>
    :root{
      --bg:#0b0b0f; --card:#12121a; --muted:#a0a0b3; --text:#e8e8f0; --brand:#86e7ff; --accent:#ff8ccf; --ring: rgba(134,231,255,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji"; background:radial-gradient(1200px 800px at 80% -10%, #1a1a27 0%, var(--bg) 60%), var(--bg); color:var(--text)}
    a{color:var(--brand); text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px; margin:0 auto; padding:24px}
    header{position:sticky; top:0; backdrop-filter: blur(10px); background: rgba(11,11,15,.6); border-bottom:1px solid #1f1f2b; z-index:50}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:12px}
    .logo{display:flex; align-items:center; gap:10px}
    .mark {
  width: 52px;        /* imagem maior */
  height: 52px;
  border-radius: 6px; /* bordas menos arredondadas, ocupa mais √°rea */
  display: inline-block;
  vertical-align: middle;
  object-fit: cover;
  background-color: transparent;
  box-shadow: 0 0 4px var(--ring); /* sombra mais sutil */
  filter: drop-shadow(0 0 4px rgba(134,231,255,0.6)); /* brilho mais pr√≥ximo */
  margin: 0; /* garante sem margens externas extras */
  padding: 0; /* garante sem preenchimento interno */
}

    .title{font-weight:700; letter-spacing:.3px}
    .nav-right{display:flex; align-items:center; gap:8px}
    .pill{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; background:#161622; border:1px solid #222236; border-radius:999px; color:var(--text)}
    .lang button{background:transparent; border:0; color:var(--muted); cursor:pointer; font-weight:600}
    .lang button.active{color:var(--text)}

    .hero{display:grid; grid-template-columns: 1.2fr .8fr; gap:28px; padding:28px 0}
    .hero-card{background:linear-gradient(180deg,#151522,#0f0f17); border:1px solid #222236; border-radius:18px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .hero h1{font-size:32px; line-height:1.2; margin:0 0 10px}
    .muted{color:var(--muted)}
    .cta{display:flex; gap:12px; margin-top:16px}
    .button{padding:10px 14px; border-radius:12px; border:1px solid #2a2a3e; background:#181828; color:var(--text); cursor:pointer; font-weight:600}
    .button.primary{background:linear-gradient(90deg, #1e2b3a, #1a1930); border-color:#2a3144}
    .button:hover{filter:brightness(1.08)}

    .grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:18px}
    .card{background:linear-gradient(180deg,#12121a,#0f0f17); border:1px solid #212133; border-radius:16px; padding:18px; display:flex; flex-direction:column; gap:10px}
    .badge{display:inline-flex; padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid #2a2a3e; color:var(--muted)}
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .card h3{margin:2px 0 4px; font-size:18px}
    .card p{margin:0; color:var(--muted)}
    .card .meta{display:flex; gap:12px; align-items:center; color:var(--muted); font-size:12px}
    .card .read{margin-top:auto; align-self:flex-start}

    .section{margin-top:28px}
    .section h2{font-size:20px; margin:0 0 12px}

    .footer{margin-top:40px; padding:18px 0; border-top:1px solid #1f1f2b; color:var(--muted); font-size:14px}

    .modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: flex-start; /* Abre o modal no topo, n√£o no centro */
  justify-content: center;
  background: rgba(5,5,8,.7);
  overflow-y: auto; /* permite rolar se o conte√∫do for grande */
  padding: 40px 0; /* espa√ßo para n√£o grudar no topo */
  z-index: 100;
}

.modal.open {
  display: flex;
}

.modal-card {
  max-width: 900px;
  width: 92%;
  background: #0f0f17;
  border: 1px solid #222236;
  border-radius: 16px;
  padding: 22px;
  box-shadow: 0 10px 30px rgba(0,0,0,.4);
}

    .kbar{margin-top:10px; display:flex; gap:10px; flex-wrap:wrap}
    .kbar .tag{font-size:12px; padding:4px 8px; border:1px dashed #2b2b3f; color:var(--muted); border-radius:999px}

    @media (max-width: 920px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
    }
    /* imagem l√≠der no topo do modal, com texto ao lado */
/* imagem l√≠der no topo do modal, com texto ao lado */
.lead-img {
  float: right;
  width: 32%;
  max-width: 160px;   /* controla ‚Äún√£o muito grande‚Äù */
  min-width: 120px;
  height: auto;
  border-radius: 12px;
  margin: 0 0 10px 14px; /* espa√ßo √† esquerda (correto para float:right) */
}

/* garante que imagens dentro do modal n√£o estourem */
.modal-card img {
  max-width: 100%;
  height: auto;
}

/* quando a tela for estreita, parar de flutuar e ocupar a largura inteira */
@media (max-width: 640px) {
  .lead-img {
    float: none;
    display: block;
    width: 100%;
    max-width: 100%;
    margin: 0 0 12px 0;
  }
}

/* utilit√°rio para ‚Äúdesgrudar‚Äù o conte√∫do seguinte do float */
.clear{ clear: both; }

  </style>
</head>
<body>
  <header>
    <div class="container nav">
     <div class="logo">
  <img src="logo-icon.png" alt="Code & Create logo" class="mark" />
  <div class="title">Code & Create</div>
  <span class="badge" id="roleBadge">ADS + Marketing</span>
    </div>
      <div class="nav-right">
        <div class="pill lang" role="group" aria-label="language switcher">
          <button id="btnPT" class="active">PT</button>
          <span class="muted">¬∑</span>
          <button id="btnEN">EN</button>
        </div>
        <a class="pill" href="#contact">Contato</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-card">
        <h1 id="heroTitle">Aprendizado em p√∫blico: do c√≥digo ao crescimento</h1>
        <p class="muted" id="heroSubtitle">Projetos reais, artigos curtos e um portf√≥lio que conecta ADS e Marketing Digital.</p>
        <div class="cta">
          <button class="button primary" id="btnViewLatest">Ver √∫ltimos artigos</button>
          <button class="button" id="btnAbout">Sobre o autor</button>
        </div>
        <div class="kbar" id="kbar">
          <span class="tag">#ADS</span>
          <span class="tag">#Front‚Äëend</span>
          <span class="tag">#Back‚Äëend</span>
          <span class="tag">#BancoDeDados</span>
          <span class="tag">#SEO</span>
          <span class="tag">#Conte√∫do</span>
          <span class="tag">#Analytics</span>
          <span class="tag">#Carreira</span>
        </div>
      </div>
    
    <section class="section">
      <h2 id="latestTitle">√öltimos artigos</h2>
      <div class="grid" id="postGrid"></div>
    </section>

    <section class="section">
      <h2 id="seriesTitle">S√©ries & Trilhas</h2>
      <div class="grid" id="seriesGrid"></div>
    </section>
      
      <section class="section" id="about">
<div class="hero-card" id="aboutCard">
        <h2 id="aboutTitle">Sobre</h2>
        <p id="aboutBody" class="muted">Ol√°! Eu sou o Thomas ‚Äî curioso por natureza e apaixonado por tudo que envolve criar, aprender e entender como as coisas funcionam.
Estudo An√°lise e Desenvolvimento de Sistemas e Marketing Digital, porque acredito que o c√≥digo e a comunica√ß√£o s√£o dois lados da mesma moeda: um faz o mundo girar, o outro faz o mundo prestar aten√ß√£o.

Antes de entrar de cabe√ßa na √°rea de tecnologia, trabalhei com atendimento, gest√£o e comunica√ß√£o, o que me ensinou a ouvir melhor e transformar problemas em solu√ß√µes pr√°ticas (√†s vezes, at√© elegantes üòÖ).
Hoje, uso o Code & Create pra juntar tudo isso ‚Äî projetos, ideias e aprendizados ‚Äî num s√≥ lugar. √â meu laborat√≥rio p√∫blico, onde erro, acerto e compartilho o caminho pra transformar curiosidade em crescimento.</p>
      </div>
    </section>
    <section id="contact" class="section">
      <h2 id="contactTitle">Contato</h2>
      <p id="contactBody" class="muted">Quer falar sobre vagas, freelas ou projetos? Envie um e‚Äëmail: <a href="mailto:tecmktlab@gmail.com">tecmktlab@gmail.com</a> ¬∑ LinkedIn: <a href="https://www.linkedin.com/in/thomas-duchini/" target="_blank" rel="noopener">perfil</a></p>
    </section>

    <div class="footer">¬© <span id="year"></span> Thomas Carvalho ¬∑ <span id="footLang">Portugu√™s e Ingl√™s</span> ¬∑ Feito com HTML/CSS/JS</div>
  </main>

  <!-- Modal de Post -->
  <div class="modal" id="postModal" aria-hidden="true" role="dialog">
    <div class="modal-card">
      <h3 id="modalTitle">Post</h3>
      <div class="chips" id="modalChips"></div>
      <p class="muted meta" id="modalMeta"></p>
      <div id="modalContent"></div>
      <div style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end">
        <button class="button" id="btnCloseModal">Fechar</button>
        <a class="button primary" id="btnCopyLink">Copiar link</a>
      </div>
    </div>
  </div>

  <script>
    // ====== i18n ======
    const i18n = {
  pt: {
    heroTitle: "Aprendizado em p√∫blico: do c√≥digo ao crescimento",
    heroSubtitle: "Projetos reais, artigos curtos e um portf√≥lio que conecta ADS e Marketing Digital.",
    about: {
      title: "Sobre",
      body: `Ol√°! Eu sou o Thomas ‚Äî curioso por natureza e apaixonado por tudo que envolve criar, aprender e entender como as coisas funcionam.<br><br>
Estudo An√°lise e Desenvolvimento de Sistemas e Marketing Digital, porque acredito que o c√≥digo e a comunica√ß√£o s√£o dois lados da mesma moeda: um faz o mundo girar, o outro faz o mundo prestar aten√ß√£o.<br><br>
Antes de entrar de cabe√ßa na √°rea de tecnologia, trabalhei com atendimento, gest√£o e comunica√ß√£o, o que me ensinou a ouvir melhor e transformar problemas em solu√ß√µes pr√°ticas (√†s vezes, at√© elegantes üòÖ).<br><br>
Hoje, uso o Code & Create pra juntar tudo isso ‚Äî projetos, ideias e aprendizados ‚Äî num s√≥ lugar. √â meu laborat√≥rio p√∫blico, onde erro, acerto e compartilho o caminho pra transformar curiosidade em crescimento.`
    },
    latest: "√öltimos artigos",
    series: "S√©ries & Trilhas",
    contact: {
      title: "Contato",
      body: 'Quer falar sobre vagas, freelas ou projetos? Envie um e-mail: <a href="mailto:tecmktlab@gmail.com">E-mail</a> ¬∑ LinkedIn: <a href="https://www.linkedin.com/in/thomas-duchini/" target="_blank" rel="noopener">perfil</a>'
    },
    footLang: "Portugu√™s e Ingl√™s",
    read: "Ler artigo",
    minutes: "min",
    cats: { ads: "ADS", mkt: "Marketing", career: "Carreira" }
  },

  en: {
    heroTitle: "Learning in public: from code to growth",
    heroSubtitle: "Real projects, short articles, and a portfolio that bridges Software Dev and Digital Marketing.",
    about: {
      title: "About",
      body: `Hey! I‚Äôm Thomas ‚Äî endlessly curious and a bit obsessed with understanding how things work.<br><br>
I study Software Development and Digital Marketing because I believe code and communication are two sides of the same coin: one builds the world, the other makes people care about it.<br><br>
Before diving into tech, I worked in customer service, management, and communication, which taught me how to listen, simplify, and turn messy problems into clean, human solutions (well‚Ä¶ most of the time üòÖ).<br><br>
Now, I use Code & Create as my open lab ‚Äî a place to build, break, learn, and share what I discover along the way.`
    },
    latest: "Latest posts",
    series: "Series & Tracks",
    contact: {
      title: "Contact",
      body: "Want to talk about roles, freelance or projects? Send an email: <a href=\"mailto:tecmktlab@gmail.com\">E-mail</a> ¬∑ LinkedIn: <a href=\"https://www.linkedin.com/in/thomas-duchini/\" target=\"_blank\" rel=\"noopener\">Profile</a>"
    },
    footLang: "Portuguese & English",
    read: "Read post",
    minutes: "min",
    cats: { ads: "Software Dev", mkt: "Marketing", career: "Career" }
  }
};
  
      // ====== Posts ======
      // Cada post tem vers√µes PT/EN (title, excerpt, content)
      const posts = [
 {
  id: 'ads-thinking-logic',
  date: '2025-11-02',
  min: 5,
  tags: ['ADS', 'L√≥gica', 'Algoritmos'],
  cat: 'ads',
  pt: {
    title: 'Pensar como programador: l√≥gica aplicada na pr√°tica',
    excerpt: 'Como desenvolver o racioc√≠nio l√≥gico que transforma ideias em solu√ß√µes program√°veis.',
    content: `
     <img src="./pensar-como-programador.jpg"
     alt="Pensar como programador ‚Äî l√≥gica aplicada na pr√°tica"
     class="lead-img">
     
<p>Antes de come√ßar a programar de verdade, eu percebi que a parte mais importante n√£o √© o c√≥digo em si ‚Äî √© a forma de pensar. ‚ÄúPensar como programador‚Äù significa aprender a enxergar um problema e dividi-lo em pequenos passos l√≥gicos, que depois viram instru√ß√µes no computador.</p>

<p>No come√ßo da disciplina de <strong>Programa√ß√£o de Solu√ß√µes Computacionais</strong>, tudo parecia te√≥rico demais. Mas, aos poucos, percebi que a l√≥gica √© a base de tudo. Ela ensina a organizar o racioc√≠nio, a n√£o pular etapas e a encontrar o caminho mais claro entre a ideia e a execu√ß√£o.</p>

<p>Um dos primeiros exerc√≠cios que fiz foi escrever um pseudoc√≥digo para calcular a m√©dia de tr√™s notas. Parece simples, mas exige seguir a sequ√™ncia certa:</p>

<pre><code>IN√çCIO
  LER nota1, nota2, nota3
  media ‚Üê (nota1 + nota2 + nota3) / 3
  SE media ‚â• 7 ENT√ÉO
    ESCREVER "Aprovado"
  SEN√ÉO
    ESCREVER "Reprovado"
FIM
</code></pre>

<p>Esse tipo de exerc√≠cio me fez perceber que programar √© basicamente traduzir o racioc√≠nio humano para uma linguagem que o computador entende. O que muda de uma linguagem para outra (como Python, Java ou PHP) √© s√≥ a sintaxe ‚Äî a l√≥gica continua sendo a mesma.</p>

<p>Hoje, quando olho um problema, j√° tento imaginar como ele seria em passos l√≥gicos: o que preciso ler, o que preciso calcular e o que preciso mostrar no final. √â esse tipo de pensamento que transforma um iniciante em algu√©m capaz de criar solu√ß√µes reais.</p>
`
  },
  en: {
    title: 'Thinking Like a Programmer: Logic in Action',
    excerpt: 'How to develop the logical reasoning that turns ideas into programmable solutions.',
    content: `
<p>Before I started programming for real, I realised that the most important part isn‚Äôt the code itself ‚Äî it‚Äôs the way we think. ‚ÄúThinking like a programmer‚Äù means learning to see a problem and break it down into small logical steps that later become computer instructions.</p>

<p>At first, in the <strong>Computational Solutions Programming</strong> module, everything felt too abstract. But little by little, I understood that logic is the foundation of everything. It teaches you how to organise your reasoning, avoid skipping steps, and find the clearest path between an idea and its execution.</p>

<p>One of the first exercises I did was writing pseudocode to calculate the average of three grades. It looks simple, but it forces you to follow the right order:</p>

<pre><code>START
  READ grade1, grade2, grade3
  average ‚Üê (grade1 + grade2 + grade3) / 3
  IF average ‚â• 7 THEN
    PRINT "Approved"
  ELSE
    PRINT "Failed"
END
</code></pre>

<p>This kind of exercise made me see that programming is basically translating human reasoning into a language the computer understands. What changes from one language to another (Python, Java or PHP) is only the syntax ‚Äî the logic stays the same.</p>

<p>Now, when I face a problem, I try to imagine it as logical steps: what I need to read, what I need to calculate, and what I need to show in the end. That way of thinking is what turns a beginner into someone who can create real solutions.</p>
`
  }
},

      /*{
        id: 'mkt-seo-notion-to-website', date: '2025-11-01', min: 5, tags: ['Marketing','SEO'], cat: 'mkt',
        pt: { title: 'SEO pr√°tico: do Notion ao site com sitemap', excerpt: 'Como transformar notas em artigos otimizados, com t√≠tulo H1, meta, URL e schema.',
          content: `<p>Transforme anota√ß√µes soltas em artigos consistentes. Passos: definir palavra-chave, criar H1 claro, escrever meta description, estruturar H2/H3 e gerar sitemap.xml.</p>` },
        en: { title: 'Practical SEO: Notion to website with sitemap', excerpt: 'Turn notes into optimized articles: H1, meta, URL, and schema.',
          content: `<p>Turn scattered notes into consistent articles. Steps: pick a focus keyword, craft a clear H1, write a meta description, structure H2/H3, and generate sitemap.xml.</p>` }
      }*/,
      /*{
        id: 'career-portfolio-blueprint', date: '2025-10-28', min: 4, tags: ['Carreira','Portfolio'], cat: 'career',
        pt: { title: 'Blueprint de portf√≥lio: ADS + Marketing', excerpt: 'Os 6 blocos essenciais: Sobre, Projetos, Estudos de Caso, Blog, CV e Contato.',
          content: `<p>Portf√≥lio enxuto e eficaz para recrutadores: </p><ul><li>Sobre com proposta de valor</li><li>3 projetos de ADS</li><li>2 estudos de caso de Marketing</li><li>Blog com 1‚Äì2 posts/semana</li><li>CV PDF</li><li>Contato claro</li></ul>` },
        en: { title: 'Portfolio blueprint: Dev + Marketing', excerpt: 'The 6 essential blocks: About, Projects, Case Studies, Blog, CV, Contact.',
          content: `<p>Lean, recruiter‚Äëfriendly portfolio:</p><ul><li>About with value proposition</li><li>3 Dev projects</li><li>2 Marketing case studies</li><li>Blog (1‚Äì2 posts/week)</li><li>CV PDF</li><li>Clear Contact</li></ul>` }
      }*/
    ];

    const series = []; // deixa vazio por enquanto
/*
      {
        id: 'ads-foundations',
        color: '#2a415a',
        cat: 'ads',
        pt: { title: 'Fundamentos de ADS', desc: 'Algoritmos, l√≥gica, estrutura de dados, POO, HTTP e SQL.' },
        en: { title: 'Dev Foundations', desc: 'Algorithms, logic, data structures, OOP, HTTP and SQL.' }
      },
      {
        id: 'mkt-growth-seo',
        color: '#4a2a5a',
        cat: 'mkt',
        pt: { title: 'Growth & SEO', desc: 'Pesquisa de palavras-chave, on‚Äëpage, conte√∫dos e analytics.' },
        en: { title: 'Growth & SEO', desc: 'Keyword research, on‚Äëpage, content and analytics.' }
      },
      {
        id: 'career-journey',
        color: '#2a5a3a',
        cat: 'career',
        pt: { title: 'Carreira & Portf√≥lio', desc: 'Projetos, estudos de caso, CV e entrevistas.' },
        en: { title: 'Career & Portfolio', desc: 'Projects, case studies, CV and interviews.' }
      }
    ]; */

    // ====== Helpers ======
    const qs = (sel) => document.querySelector(sel);
    const el = (tag, cls) => { const e=document.createElement(tag); if(cls) e.className=cls; return e; };

    function setLang(lang){
      const t = i18n[lang];
      qs('#heroTitle').textContent = t.heroTitle;
      qs('#heroSubtitle').textContent = t.heroSubtitle;
      qs('#aboutTitle').textContent = t.about.title;
      qs('#aboutBody').innerHTML = t.about.body;
      qs('#latestTitle').textContent = t.latest;
      qs('#seriesTitle').textContent = t.series;
      qs('#contactTitle').textContent = t.contact.title;
      qs('#contactBody').innerHTML = t.contact.body;
      qs('#footLang').textContent = t.footLang;
      qs('#btnPT').classList.toggle('active', lang==='pt');
      qs('#btnEN').classList.toggle('active', lang==='en');
      renderPosts(lang);
      renderSeries(lang);
      localStorage.setItem('tmlang', lang);
      document.documentElement.lang = lang === 'pt' ? 'pt' : 'en';
    }

    function renderPosts(lang){
      const grid = qs('#postGrid');
      grid.innerHTML = '';
      posts.forEach(p=>{
        const c = el('article','card');
        const badgeRow = el('div','chips');
        const b1 = el('span','badge'); b1.textContent = (lang==='pt'? i18n.pt.cats[p.cat] : i18n.en.cats[p.cat]) || p.cat;
        const b2 = el('span','badge'); b2.textContent = p.tags.join(' ¬∑ ');
        badgeRow.append(b1,b2);
        const h = el('h3'); h.textContent = p[lang].title;
        const e = el('p'); e.textContent = p[lang].excerpt;
        const meta = el('div','meta'); meta.textContent = `${p.date} ‚Ä¢ ${p.min} ${i18n[lang].minutes}`;
        const btn = el('a','button read'); btn.textContent = i18n[lang].read; btn.href = `#post/${p.id}`;
        btn.addEventListener('click', (ev)=>{ ev.preventDefault(); openPost(p, lang); });
        c.append(badgeRow,h,e,meta,btn);
        grid.append(c);
      })
    }

      function renderSeries(lang){
        const grid = qs('#seriesGrid'); grid.innerHTML = '';
        if (!Array.isArray(series) || series.length === 0) return; // evita erro
        series.forEach(s=>{
        const c = el('div','card');
        c.style.borderColor = '#2a2a3e';
        const chip = el('span','badge'); chip.textContent = (lang==='pt'? i18n.pt.cats[s.cat] : i18n.en.cats[s.cat]) || s.cat;
        const h = el('h3'); h.textContent = s[lang].title;
        const d = el('p'); d.textContent = s[lang].desc;
        const meta = el('div','meta'); meta.textContent = `#${s.id}`;
        c.append(chip,h,d,meta);
        grid.append(c);
      })
    }

    // ====== Post modal ======
    function openPost(p, lang){
      qs('#modalTitle').textContent = p[lang].title;
      const chips = qs('#modalChips'); chips.innerHTML='';
      [ (i18n[lang].cats[p.cat]||p.cat), ...p.tags ].forEach(t=>{ const s=el('span','badge'); s.textContent=t; chips.append(s); })
      qs('#modalMeta').textContent = `${p.date} ‚Ä¢ ${p.min} ${i18n[lang].minutes}`;
      qs('#modalContent').innerHTML = p[lang].content;
      const m = qs('#postModal'); m.classList.add('open'); m.setAttribute('aria-hidden','false');
      // deep link
      const url = new URL(window.location); url.hash = `#post/${p.id}/${lang}`; history.replaceState(null,'',url);
    }
    function closePost(){
      const m = qs('#postModal'); m.classList.remove('open'); m.setAttribute('aria-hidden','true');
      if(location.hash.startsWith('#post/')){ history.replaceState(null,'', location.pathname + location.search); }
    }

    // ====== Events ======
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closePost(); });
    qs('#btnCloseModal').addEventListener('click', closePost);
    qs('#btnCopyLink').addEventListener('click', ()=>{ navigator.clipboard.writeText(location.href); qs('#btnCopyLink').textContent='Link copiado!'; setTimeout(()=>qs('#btnCopyLink').textContent='Copiar link',1800)});

    qs('#btnPT').addEventListener('click', ()=> setLang('pt'));
    qs('#btnEN').addEventListener('click', ()=> setLang('en'));
    qs('#btnViewLatest').addEventListener('click', ()=> window.scrollTo({top: document.querySelector('#postGrid').offsetTop - 70, behavior: 'smooth'}));
    qs('#btnAbout').addEventListener('click', ()=> document.querySelector('#aboutCard').scrollIntoView({behavior:'smooth'}));

    // Deep link open
    function tryOpenFromHash(){
  if(!location.hash.startsWith('#post/')) return;
  const parts = location.hash.split('/');
  // formatos: ["#post", "id"] ou ["#post", "id", "pt|en"]
  const id = parts[1] || parts[2];
  const forcedLang = parts[2] && parts[2].length === 2 ? parts[2] : null;
  const p = posts.find(x => x.id === id);
  if (!p) return;
  const lang = forcedLang === 'en' ? 'en' : 'pt';
  setLang(lang);
  openPost(p, lang);
}
    // Init
    (function init(){
  document.getElementById('year').textContent = new Date().getFullYear();
  const saved = localStorage.getItem('tmlang') || ((navigator.language || 'pt').startsWith('pt') ? 'pt' : 'en');
  setLang(saved);
  tryOpenFromHash();
})();
  </script>
</body>
</html>
